<!-- <div class="container">
 --> <span class="fill-remaining-space"></span>
<span style="font-size: 30px;"></span>
<span class="fill-remaining-space"></span>
<br><br> <br><br>
<form [formGroup]="this.service.needsForm" *ngIf="this.service.needsForm" class="normal-form" dir="rtl" (submit)="onSubmit()"
  (keydown.enter)="$event.preventDefault()">
  <input type="hidden" value="" formControlName="ID">
  <input type="hidden" value="" formControlName="DeviceId">


  <div class="row">
    <div class="col-md-6">

      <div class="form-group">
        <div class="input-group">

          <label style="text-align: right;margin-left: 40px;">تاريخ </label>

          <mat-form-field>
            <input formControlName="OrderDate" [(value)]='OrderDate' matInput [matDatepicker]="pickerOrderDate"
              placeholder="">
            <mat-datepicker-toggle matSuffix [for]="pickerOrderDate"></mat-datepicker-toggle>
            <mat-datepicker #pickerOrderDate></mat-datepicker>
          </mat-form-field>

        </div>

      </div>


    </div>
    <div class="col-md-6">


      <section class="example-section">
        <mat-checkbox class="example-margin" formControlName="Done" [(ngModel)]="checked">تم تلبية الطلب</mat-checkbox>
      </section>



    </div>
  </div>
  <!-- order items table-->


  <table class="table table-borderless">
    <thead class="thead-light">
      <th>نوع الجهاز</th>
      <th>عدد الأجهزة المطلوبة</th>
      <th>عدد الأجهزة المصروفة</th>
      <th>المتبقي</th>

      <th>
        <a class="btn btn-sm btn-success text-white" (click)="AddOrEditOrderItem()"><i class="fa fa-plus"></i> إضافة جهاز</a>
      </th>
    </thead>
    <tbody>
      <tr *ngIf="service.orderItems!= null && service.orderItems.length==0" [class.text-danger]="!isValid && service.orderItems.length==0">
        <td class="font-italic text-center" colspan="3">
          لا يوجد أجهزة
        </td>
      </tr>

      <tr *ngFor="let item of service.orderItems;let i=index;">
        <td>
          <ng-container [ngSwitch]="item.Type">
            <span class="example-fill-remaining-space"></span>
            <span class="example-fill-remaining-space"></span>
            <span *ngSwitchCase="1" style="direction: ltr;">كمبيوتر</span>
            <span *ngSwitchCase="2"> طابعة</span>
            <span *ngSwitchCase="3"> ماكينة تصوير</span>
            <span *ngSwitchCase="4"> ماسح ضوئي</span>
            <span *ngSwitchCase="5"> فاكس</span>
            <span *ngSwitchCase="6"> شاشة</span>
            <span *ngSwitchCase="7"> أخرى</span>
            <span class="example-fill-remaining-space"></span>
            <span class="example-fill-remaining-space"></span>
          </ng-container>
        </td>
        <td>{{item.NumberOf}}</td>
        <td>{{item.achievementsSum}}</td>
        <td>{{item.NumberOf-item.achievementsSum}}</td>

        <td>
          <a class="btn btn-sm btn-info text-white" (click)="AddOrEditOrderItem(i,service.needsForm.ID)"><i
              class="fas fa-edit"></i></a>
          <a class="btn btn-sm btn-danger text-white ml-1" (click)="onDeleteOrderItem(item.ID,i)"><i
              class="fa fa-trash"></i></a>
              <a class="btn btn-sm btn-info text-white" *ngIf="item.inserted==1"  (click)="AchievementEdit(item.ID,item.Type)">الاجهزة المصروفة</a>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="form-group">
    <button type="submit" class="btn btn-dark"><i class="fa fa-database"></i> حفظ</button>&nbsp;
    <a class="btn btn-outline-dark ml-1" (click)="showOrdersByDeviceId()"><i class="fa fa-table"></i> عرض طلبات الاحتياجات</a>
    <a class="btn btn-outline-dark ml-1" (click)="goToAllDevices()"><i class="fa fa-table"></i> الرجوع الي الإدارة</a>

  </div>

</form>