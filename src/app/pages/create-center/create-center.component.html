<div class="row">
    <form [formGroup]="mangForm" *ngIf="mangForm" class="normal-form" dir="rtl" (submit)="onSubmit()"
        (keydown.enter)="$event.preventDefault()">
        <table>
            <tr>
                <td style="width: 120px;">
                    <label style="margin: 0px 20px;">القطاع</label>
                </td>
                <td>
                    <div class="input-group">
                        <ng-select [items]="sections" formControlName="SectionId" bindLabel="name" bindValue="sec"
                            (change)="onchangeSections($event)" placeholder="Select Section"
                            style="width: 300px; margin: 0px 20px;">
                        </ng-select>

                    </div>
                    <!-- <button type="button" *ngIf="sectorID != null" (click)="onchangeSections(sectorID)">عرض
                            </button>  -->
                </td>

                <td>
                    <label *ngIf=" sectorID != null" style="text-align: left;margin-left: 40px;"> اسم الإدارة المركزية
                        المراد إدراجها</label>

                </td>

                <td>
                    <div class="form-group" *ngIf=" sectorID != null">
                        <div class="input-group">
                            <input type="text" class="form-control" formControlName="CentralMangName">
                        </div>
                    </div>
                </td>

                <td>
                    <button type="button" *ngIf=" sectorID != null" style="height: 40px;width: 60px;margin-right: 5px;margin-top: -10px;" (click)="InsertCenters1(sectorID)">إدراج
                    </button>

                </td>
            </tr>

            <!-- <tr>
                <td>
                    <label style="text-align: left;margin-left: 40px;">اسم الإدارة</label>
    
                </td>
                <td>
                    <div class="form-group">
                        <div class="input-group">
    
                           
                            <input type="text" class="form-control" formControlName="MangName">
                          
    
                        </div>
                    </div>
                </td>
            </tr> -->


            <ng-container *ngIf="centersList != null">
                <tr>
                    <td>
                        <label style="margin: 0px 20px;">الإدارة المركزية</label>
                    </td>
                    <td>
                        <div class="input-group">
                            <ng-select formControlName="Centers" bindLabel="name" bindValue="ID"
                                (change)="onchangeCenters($event)" placeholder=" اختر إدارة مركزية"
                                style="width: 300px; margin: 0px 20px;">
                                <ng-option *ngFor="let center of centersList" [(value)]="center.ID">{{center.name}}
                                </ng-option>
                            </ng-select>
                            <!-- <button type="button" *ngIf="centerID != null" (click)="showCenterDevices(centerID)">عرض
                            </button> -->
                        </div>
                    </td>
                    <td>
                        <label *ngIf=" centerID != null" style="text-align: left;margin-left: 40px;"> اسم الإدارة العامة
                            المراد إدراجها</label>

                    </td>

                    <td>
                        <div class="form-group" *ngIf=" centerID != null">
                            <div class="input-group">
                                <input type="text" class="form-control" formControlName="GeneralMangName">
                            </div>
                        </div>
                    </td>

                    <td>
                        <button type="button" *ngIf=" centerID != null" style="height: 40px;width: 60px;margin-right: 5px;margin-top: -10px;" (click)="InsertMangments(centerID)">إدراج
                        </button>

                    </td>
                </tr>
            </ng-container>
            <ng-container *ngIf="ManagmentsList != null && ManagmentsList.length > 0">

                <tr>
                    <td>
                        <label style="margin: 0px 20px;">الإدارة العامة</label>
                    </td>
                    <td>
                        <div class="input-group">

                            <ng-select *ngIf="ManagmentsList != null" formControlName="Managment" bindLabel="name"
                                bindValue="ID" (change)="onchangeManagments($event)" placeholder=" اختر إدارة عامة"
                                style="width: 300px; margin: 0px 20px;">
                                <ng-option *ngFor="let Managment of ManagmentsList" [(value)]="Managment.ID">
                                    {{Managment.name}}</ng-option>
                            </ng-select>
                            <!-- <button type="button" *ngIf="ManagmentID != null"
                                (click)="showManagmentDevices(ManagmentID)">عرض
                            </button> -->
                        </div>
                    </td>
                    <td>
                        <label *ngIf=" ManagmentID != null" style="text-align: left;margin-left: 40px;"> اسم الإدارة
                            الفرعية المراد إدراجها</label>

                    </td>

                    <td>
                        <div class="form-group" *ngIf=" ManagmentID != null">
                            <div class="input-group">
                                <input type="text" class="form-control" formControlName="BranchMangName">
                            </div>
                        </div>
                    </td>

                    <td>
                        <button type="button" *ngIf=" ManagmentID != null" style="height: 40px;width: 60px;margin-right: 5px;margin-top: -10px;" (click)="InsertMangments1(ManagmentID)">إدراج
                        </button>

                    </td>
                </tr>
            </ng-container>
            <ng-container *ngIf="Managments1List != null && Managments1List.length > 0">
                <tr>
                    <td>
                        <label style="margin: 0px 20px;">إدارة فرعية</label>
                    </td>
                    <td>

                        <div class="input-group">

                            <ng-select formControlName="Managment1" bindLabel="name" bindValue="ID"
                                (change)="onchangeManagments1($event)" placeholder=" اختر إدارة تابعة"
                                style="width: 300px; margin: 0px 20px;">
                                <ng-option *ngFor="let Managment of Managments1List" [(value)]="Managment.ID">
                                    {{Managment.name}}</ng-option>
                            </ng-select>
                            <!-- <button type="button" *ngIf="Managment1ID != null"
                                (click)="showManagmentDevices(Managment1ID)">عرض
                            </button> -->
                        </div>
                    </td>
                    <td>
                        <label *ngIf=" Managment1ID != null" style="text-align: left;margin-left: 40px;"> اسم الإدارة
                            التابعة المراد إدراجها</label>

                    </td>

                    <td>
                        <div class="form-group" *ngIf=" Managment1ID != null">
                            <div class="input-group">
                                <input type="text" class="form-control" formControlName="affiliateMangName">
                            </div>
                        </div>
                    </td>

                    <td>
                        <button type="button" *ngIf=" Managment1ID != null" style="height: 40px;width: 60px;margin-right: 5px;margin-top: -10px;" (click)="InsertMangments2(Managment1ID)">إدراج
                        </button>

                    </td>
                </tr>
            </ng-container>
            <ng-container *ngIf="Managments2List != null && Managments2List.length > 0">

                <tr>
                    <td>
                        <label style="margin: 0px 20px;">إدارة تابعة</label>
                    </td>
                    <td>
                        <div class="input-group">

                            <ng-select *ngIf="Managments2List != null" formControlName="Managment2" bindLabel="name"
                                bindValue="ID" (change)="onchangemanagments2($event)"
                                placeholder=" اختر إدارة تحت التابعة" style="width: 300px; margin: 0px 20px;">
                                <ng-option *ngFor="let Managment of Managments2List" [(value)]="Managment.ID">
                                    {{Managment.name}}</ng-option>
                            </ng-select>
                            <!-- <button type="button" *ngIf="Managment2ID != null"
                                (click)="showManagmentDevices(Managment2ID)">عرض
                            </button> -->
                        </div>
                    </td>
                </tr>
            </ng-container>
        </table>
    </form>
</div>

